import Callout from 'nextra-theme-docs/callout'
import Tabs from '../../components/tabs'

# Objects

The following endpoints enable you to create, read, update, and delete Objects in your Bucket. See [API Introduction](/api-reference/introduction) for getting started information.

<Callout emoji="ðŸ”‘">
  **Get your keys**
  <br />
  Your Bucket `slug`,`read_key`, and `write_key` will be required to perform the
  following requests. These can be found in{' '}
  <i>Your Bucket > Settings > API Access</i> in your [Bucket Dashboard
  ](https://app.cosmicjs.com/login).
</Callout>

### Endpoints

```bash
GET /v2/buckets/${YOUR_BUCKET_SLUG}/objects
POST /v2/buckets/${YOUR_BUCKET_SLUG}/objects
GET /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
PATCH /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
DELETE /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
GET /v2/buckets/${YOUR_BUCKET_SLUG}/merge-requests/:id/objects
```

## Data Model

| Attribute              |        Type         |                                        Notes                                        |
| :--------------------- | :-----------------: | :---------------------------------------------------------------------------------: |
| id                     |       String        |                            Unique identifier for Object                             |
| slug                   |       String        |           Can have multiple Objects with same slug and different locales.           |
| type                   |       String        |                                  Object Type slug                                   |
| title                  |       String        |                                    Object title                                     |
| content                |       String        |                                    HTML Content                                     |
| status                 |        Enum         |                       draft, published, defaults to published                       |
| metafields             | Array of Metafields |                 See [Metafields Model](/api-reference/metafields).                  |
| metadata               |       Object        |                             Rendered Metafield values.                              |
| created_by             |       String        |                                   Author User Id                                    |
| created_at             |       String        |                                    Date created                                     |
| published_at           |       String        |                                 Date last published                                 |
| modified_at            |       String        |                                 Date last modified                                  |
| modified_by            |       String        |                                   Author User Id                                    |
| publish_at             |       Number        |         UNIX millisecond timestamp. Publish automatically at a later time.          |
| options.slug_field     |       Boolean       |                         Set to false to hide the slug field                         |
| options.content_editor |       Boolean       |                       Set to false to hide the content editor                       |
| locale                 |        Enum         |         See [Localization](/api-reference/localization) for locale options.         |
| thumbnail              |       String        | Media `name`. Media must be available in Bucket. See [Media](/api-reference/media). |

## Get Objects

Returns Objects in your Bucket.

**Definition**

```bash
GET /v2/buckets/${YOUR_BUCKET_SLUG}/objects
```

**Parameters**

| Parameter       | Required |  Type  | Default   | Description                                                                                                                                                                                                             |
| :-------------- | :------: | :----: | :-------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| read_key        | required | String |           | Required to read data from your Bucket                                                                                                                                                                                  |
| query           |          |  JSON  |           | A JSON string to perform Object search and filtering. See [Queries section](/api-reference/queries) for more detail. Must be URL encoded for REST requests.                                                             |
| props           |          | String |           | Declare which properties to return in comma-separated string. Remove to see full Object and get a list of all available properties. Can include nested metadata. Example: `id,title,metadata.author.metadata.image.url` |
| status          |          |  Enum  | published | Set to `any` for latest draft or published Object                                                                                                                                                                       |
| sort            |          |  Enum  | order     | `created_at`, `-created_at`, `modified_at`, `-modified_at`, `random`, `order`                                                                                                                                           |
| limit           |          | Number | 1000      | The number of Objects to return                                                                                                                                                                                         |
| skip            |          | Number | 0         | The number of Objects to skip                                                                                                                                                                                           |
| after           |          | String |           | Objects after specified Object Id (can only use one of `skip` or `after`)                                                                                                                                               |
| pretty          |          |  Enum  | false     | Set to `true` to make the response more reader-friendly                                                                                                                                                                 |
| show_metafields |          |  Enum  | false     | Set to `true` to show metafields                                                                                                                                                                                        |
| use_cache       |          |  Enum  | true      | Set to `false` for real-time updates. Increases latency of endpoint.                                                                                                                                                    |

**Methods**

<Tabs>
<div label="Node.js">
```javascript
bucket.getObjects()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const data = await bucket.getObjects({
  query: {
    type: 'posts'
  },
  limit: 1
})
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	--data-urlencode query='{"type": "posts"}' \
	-d limit=1 \
	-G
```
</div>

<div label="GraphQL">
```javascript
getObjects(bucket_slug, read_key, input)
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  bucket_slug: "YOUR_BUCKET_SLUG",
  read_key: "YOUR_BUCKET_READ_KEY",
  input: {
    query: {
      type: "posts"
    },
    props: "slug,title,metadata.hero.url"
  }
}
```

<a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24query%3A%20JSON%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20query%3A%20%24query%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D">Full screen</a>
<iframe src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24query%3A%20JSON%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20query%3A%20%24query%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D" frameBorder="0" style={{ width: '100%', height: '470px'}}></iframe>
</div>

<div label="CLI">
```bash
cosmic get-objects
```
**Example Request**
```bash
cosmic get-objects --limit 1 --query '{"type":"posts"}'
```
</div>
</Tabs>

**Example Full Response**

```json
{
  "objects": [
    {
      "id": "5f7357967286d7773adc551e",
      "slug": "learning",
      "title": "Learning",
      "content": "<p>Learning is fun!!</p>",
      "bucket": "5f7357124b331d76c08de989",
      "created": "2020-09-29T15:49:42.005Z",
      "created_at": "2020-09-29T15:49:42.005Z",
      "modified_at": "2020-11-16T18:50:48.750Z",
      "status": "published",
      "locale": null,
      "published_at": "2020-11-16T18:50:48.750Z",
      "modified_by": "5e4d7eb92850c717ea93dba4",
      "publish_at": null,
      "unpublish_at": null,
      "type": "categories",
      "metadata": {
        "description": "This is the example description",
        "parent": {
          "id": "5f7357b27286d7773adc551f",
          "slug": "example-post",
          "title": "Example Post",
          "content": "<p>This is the post Edited!! Draft Latest</p>",
          "bucket": "5f7357124b331d76c08de989",
          "created_at": "2020-09-29T15:50:10.193Z",
          "created_by": "5e4d7eb92850c717ea93dba4",
          "modified_at": "2020-12-11T17:08:52.463Z",
          "created": "2020-09-29T15:50:10.193Z",
          "status": "published",
          "thumbnail": "",
          "published_at": "2020-12-11T16:07:10.451Z",
          "modified_by": "5e4d7eb92850c717ea93dba4",
          "publish_at": null,
          "unpublish_at": null,
          "type": "posts",
          "metadata": {
            "category": {
              "id": "5f7357967286d7773adc551e",
              "slug": "learning",
              "title": "Learning",
              "content": "<p>Learning is fun!!</p>",
              "bucket": "5f7357124b331d76c08de989",
              "created": "2020-09-29T15:49:42.005Z",
              "created_at": "2020-09-29T15:49:42.005Z",
              "modified_at": "2020-11-16T18:50:48.750Z",
              "status": "published",
              "locale": null,
              "published_at": "2020-11-16T18:50:48.750Z",
              "modified_by": "5e4d7eb92850c717ea93dba4",
              "publish_at": null,
              "unpublish_at": null,
              "type": "categories",
              "metadata": {
                "description": "This is the example description",
                "parent": "5f7357b27286d7773adc551f"
              }
            }
          }
        }
      }
    }
  ],
  "total": 6,
  "limit": 1
}
```

### Using Props

<Callout emoji="ðŸ’¡">
  **Quick Tip**
  <br />
  Use `props` to limit the payload size and get only the data you need. Metadata
  can be nested as far as you need. There is no depth limit except to prevent
  infinite recursion.
</Callout>

**Methods**

<Tabs>
<div label="Node.js">
```javascript
bucket.getObjects()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const props = [
  'title',
  'content',
  'metadata.parent.title',
  'metadata.parent.metadata.category.metadata.description'
]
const data = await bucket.getObjects({
  query: {
    type: 'posts'
  },
  props: props.toString(),
  limit: 1
})
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	--data-urlencode query='{"type":"posts"}' \
	-d props="title,content,metadata.parent.title,metadata.parent.metadata.category.metadata.description" \
	-d limit=1 \
	-G
```
</div>
<div label="GraphQL">
```javascript
getObjects(bucket_slug, read_key, input)
```

**Variables**

```
{
  bucket_slug: "YOUR_BUCKET_SLUG",
  read_key: "YOUR_BUCKET_READ_KEY",
  input: {
    query: {
      type: "posts"
    },
    props: "slug,title,content,metadata"
  }
}
```

<a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24query%3A%20JSON%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20query%3A%20%24query%0A%20%20%20%20%20%20%20props%3A%20%22slug%2Ctitle%2Cmetadata.hero.url%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D">Full screen</a>
<iframe src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24query%3A%20JSON%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20query%3A%20%24query%0A%20%20%20%20%20%20%20props%3A%20%22slug%2Ctitle%2Cmetadata.hero.url%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D" frameBorder="0" style={{ width: '100%', height: '470px'}}></iframe>
</div>

<div label="CLI">
```bash
cosmic get-objects
```
**Example Request**
```bash
cosmic get-objects --limit 1 --query '{"type":"posts"}' --props title,content,metadata.parent.title,metadata.parent.metadata.category.metadata.description
```

</div>
</Tabs>

**Example Response with Props**

```json
{
  "objects": [
    {
      "title": "Learning",
      "content": "<p>Learning is fun!!</p>",
      "metadata": {
        "parent": {
          "title": "Example Post",
          "metadata": {
            "category": {
              "metadata": {
                "description": "This is the example description"
              }
            }
          }
        }
      }
    }
  ],
  "total": 6,
  "limit": 1
}
```

<Callout emoji="ðŸ’¡">
  **Queries 101**
  <br />
  Learn more about how to create powerful Object queries in the [Queries and
  Logic](/api-reference/queries) section of the docs.
</Callout>

## Get Object

Returns a single Object in your Bucket.

**Definition**

```bash
GET /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
```

**Parameters**

| Parameter       | Required |  Type  | Default   | Description                                                                                                                                                                                                             |
| :-------------- | :------: | :----: | :-------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| read_key        | required | String |           | Required to read data from your Bucket                                                                                                                                                                                  |
| id              | required | String |           | Object id                                                                                                                                                                                                               |
| props           |          | String |           | Declare which properties to return in comma-separated string. Remove to see full Object and get a list of all available properties. Can include nested metadata. Example: `id,title,metadata.author.metadata.image.url` |
| status          |          |  Enum  | published | Set to `any` for latest draft or published Object                                                                                                                                                                       |
| pretty          |          |  Enum  | false     | Set to `true` to make the response more reader-friendly                                                                                                                                                                 |
| show_metafields |          |  Enum  | false     | Set to `true` to show metafields                                                                                                                                                                                        |
| use_cache       |          |  Enum  | true      | Set to `false` for real-time updates. Increases latency of endpoint.                                                                                                                                                    |

**Methods**

<Tabs>

<div label="Node.js">
```javascript
bucket.getObject()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const data = await bucket.getObject({
  id: '5e4d7eb92850c717ea93dba1'
})
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	-G
```
</div>

<div label="GraphQL">
```javascript
getObject(bucket_slug, read_key, object_id)
```
**Variables**

Add this with your variable values to "Query Variables".

```
{
  bucket_slug: "YOUR_BUCKET_SLUG",
  read_key: "YOUR_BUCKET_READ_KEY"
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20object_id%3A%20%2260105b2ed026d40008d745e5%22%0A%20%20%29%20%7B%0A%20%20%20%20%20%20title%0A%20%20%7D%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20object_id%3A%20%2260105b2ed026d40008d745e5%22%0A%20%20%29%20%7B%0A%20%20%20%20%20%20title%0A%20%20%7D%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>

<div label="CLI">
```bash
cosmic get-object
```
**Example Request**
```bash
cosmic get-object --id 5ff75368c2dfa81a91695cec
```

</div>
</Tabs>

**Example Full Response**

```json
{
  "object": {
    "id": "5f7357967286d7773adc551e",
    "slug": "learning",
    "title": "Learning",
    "content": "<p>Learning is fun!!</p>",
    "bucket": "5f7357124b331d76c08de989",
    "created": "2020-09-29T15:49:42.005Z",
    "created_at": "2020-09-29T15:49:42.005Z",
    "modified_at": "2020-11-16T18:50:48.750Z",
    "status": "published",
    "locale": null,
    "published_at": "2020-11-16T18:50:48.750Z",
    "modified_by": "5e4d7eb92850c717ea93dba4",
    "publish_at": null,
    "unpublish_at": null,
    "type": "categories",
    "metadata": {
      "description": "This is the example description",
      "parent": {
        "id": "5f7357b27286d7773adc551f",
        "slug": "example-post",
        "title": "Example Post",
        "content": "<p>This is the post Edited!! Draft Latest</p>",
        "bucket": "5f7357124b331d76c08de989",
        "created_at": "2020-09-29T15:50:10.193Z",
        "created_by": "5e4d7eb92850c717ea93dba4",
        "modified_at": "2020-12-11T17:08:52.463Z",
        "created": "2020-09-29T15:50:10.193Z",
        "status": "published",
        "thumbnail": "",
        "published_at": "2020-12-11T16:07:10.451Z",
        "modified_by": "5e4d7eb92850c717ea93dba4",
        "publish_at": null,
        "unpublish_at": null,
        "type": "posts",
        "metadata": {
          "category": {
            "id": "5f7357967286d7773adc551e",
            "slug": "learning",
            "title": "Learning",
            "content": "<p>Learning is fun!!</p>",
            "bucket": "5f7357124b331d76c08de989",
            "created": "2020-09-29T15:49:42.005Z",
            "created_at": "2020-09-29T15:49:42.005Z",
            "modified_at": "2020-11-16T18:50:48.750Z",
            "status": "published",
            "locale": null,
            "published_at": "2020-11-16T18:50:48.750Z",
            "modified_by": "5e4d7eb92850c717ea93dba4",
            "publish_at": null,
            "unpublish_at": null,
            "type": "categories",
            "metadata": {
              "description": "This is the example description",
              "parent": "5f7357b27286d7773adc551f"
            }
          }
        }
      }
    }
  }
}
```

### Using Props

<Callout emoji="ðŸ’¡">
  **Quick Tip**
  <br />
  Use `props` to limit the payload size and get only the data you need. Metadata
  can be nested as far as you need. There is no depth limit except to prevent
  infinite recursion.
</Callout>

**Methods**

<Tabs>
<div label="Node.js">
```javascript
bucket.getObject()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const props = [
  'title',
  'content',
  'metadata.parent.title',
  'metadata.parent.metadata.category.title'
]
const data = await bucket.getObject({
  id: '5e4d7eb92850c717ea93dba1',
  props: props.toString()
})
```

</div>
<div label="cURL">

```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	-d props="title,metadata.description,metadata.parent.title,metadata.parent.metadata.category.title" \
	-G
```

</div>

<div label="GraphQL">
**Note:**  Using props with the GraphQL API may optimize server response time.

```javascript
getObject(bucket_slug, read_key, input)
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  bucket_slug: "YOUR_BUCKET_SLUG",
  read_key: "YOUR_BUCKET_READ_KEY",
  object_id: "{{object_id}}",
  input: {
    props: "slug,title,metadata"
  }
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20object_id%3A%20%2260105b2ed026d40008d745e5%22%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20%20props%3A%20%22title%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20%20title%0A%20%20%7D%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20object_id%3A%20%2260105b2ed026d40008d745e5%22%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20%20%20props%3A%20%22title%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20%20title%0A%20%20%7D%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>
<div label="CLI">
```bash
cosmic get-object
```
**Example Request**
```bash
cosmic get-object --id 5ff75368c2dfa81a91695cec --props "title,content,metadata.parent.title,metadata.parent.metadata.category.metadata.description"
```

</div>
</Tabs>

**Example Response with Props**

```json
{
  "object": {
    "title": "Learning",
    "metadata": {
      "description": "This is the example description",
      "parent": {
        "title": "Example Post",
        "metadata": {
          "category": {
            "title": "Learning"
          }
        }
      }
    }
  }
}
```

### Get Object by Slug

<Callout emoji="âœ…">
  **Note**
  <br />
  This method uses the Get Objects endpoint using
  [queries](/api-reference/queries) and returns an array. This is because, with
  localization, you can have multiple Objects that use the same slug, but have
  different locales.
</Callout>

**Example Request**

<Tabs>

<div label="Node.js">
```javascript
bucket.getObjects()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init;
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const props = [
  'title',
  'content',
  'metadata.parent.title',
  'metadata.parent.metadata.category.title'
]
const data = await bucket.getObjects({
  query: {
    slug: 'object-slug'
  },
  props: props.toString()
})
```

</div>

<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	--data-urlencode query='{"slug":"object-slug"}' \
	-d props="slug,title,metadata.description,metadata.parent.title,metadata.parent.metadata.category.title" \
	-G
```
</div>

<div label="GraphQL">
**Note:**  Using props with the GraphQL API may optimize server response time.

```javascript
getObjects(bucket_slug, read_key, input)
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  "bucket_slug": "YOUR_BUCKET_SLUG",
  "read_key": "YOUR_BUCKET_READ_KEY"
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20query%3A%20%7B%0A%20%20%20%20%20%20%20%20slug%3A%20%22test-schedule%22%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20props%3A%20%22title%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20%20%20title%0A%20%20%20%20%20%20%7D%0A%20%20%7D%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%29%20%7B%0A%20%20getObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20input%3A%20%7B%0A%20%20%20%20%20%20query%3A%20%7B%0A%20%20%20%20%20%20%20%20slug%3A%20%22test-schedule%22%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20props%3A%20%22title%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20%20%20title%0A%20%20%20%20%20%20%7D%0A%20%20%7D%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>
<div label="CLI">
```bash
cosmic get-objects
```
**Example Request**
```bash
cosmic get-objects --query {"slug":"object-slug"} --props "title,content,metadata.parent.title,metadata.parent.metadata.category.metadata.description"
```

</div>

</Tabs>

**Example Response with Props**

```json
{
  "objects": [
    {
      "slug": "object-slug",
      "title": "Object Slug Example",
      "metadata": {
        "description": "This is the example description",
        "parent": {
          "title": "Example Post",
          "metadata": {
            "category": {
              "title": "Learning"
            }
          }
        }
      }
    }
  ]
}
```

## Add Object

Creates a new Object in your Bucket.

**Definition**

```bash
POST /v2/buckets/${YOUR_BUCKET_SLUG}/objects
```

<Callout emoji="âš ">
  **Required**
  <br />
  Your Bucket `write_key` must be passed as `Authorization Bearer` in the header
  of the request. This can be found in
  <i>Your Bucket > Settings > API Access</i> in your [Admin Dashboard](https://app.cosmicjs.com/login).
</Callout>

**Parameters**

| Parameter              | Required |        Type         | Description                                                                                          |
| :--------------------- | :------: | :-----------------: | :--------------------------------------------------------------------------------------------------- |
| type                   | required |       String        | Add Object to Object Type                                                                            |
| title                  | required |       String        | Your Object title                                                                                    |
| slug                   |          |       String        | Unique identifier for your Object                                                                    |
| content                |          |       String        | Add Content to your Object                                                                           |
| status                 |          |        Enum         | draft, published, defaults to published                                                              |
| metafields             |          | Array of Metafields | Add Metafields to your Object. See [Metafields Model](/api-reference/metafields).                    |
| created_by             |          |       String        | Author User Id                                                                                       |
| publish_at             |          |       Number        | UNIX millisecond timestamp. Publish automatically at a later time.                                   |
| options.slug_field     |          |       Boolean       | Set to false to hide the slug field                                                                  |
| options.content_editor |          |       Boolean       | Set to false to hide the content editor                                                              |
| locale                 |          |        Enum         | Adds localization to the Object. See [Localization](/api-reference/localization) for locale options. |
| thumbnail              |          |       String        | Media `name`. Media must be available in Bucket. See [Media](/api-reference/media).                  |
| trigger_webhook        |          |       Boolean       | Triggers corresponding Object action Webhook ([See Webhooks](/dashboard/webhooks)).                  |
| pretty                 |          |        Enum         | true, Makes the response more reader-friendly                                                        |

**Methods**

<Tabs>
<div label="Node.js">
```javascript
bucket.addObject()
```

**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  write_key: 'YOUR_BUCKET_WRITE_KEY'
})
const params = {
  title: 'Cosmic Example',
  type: 'examples',
  content: 'Learning the Cosmic API is really fun and so easy',
  metafields: [
    {
      title: 'Headline',
      key: 'headline',
      type: 'text',
      value: 'Learn Cosmic!'
    },
    {
      title: 'Author',
      key: 'author',
      type: 'text',
      value: 'Quasar Jones'
    }
  ],
  options: {
    slug_field: false
  }
}
const data = await bucket.addObject(params)
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects \
	-d '{"title":"Title of the Post","type":"posts"}' \
	-H 'Content-Type: application/json' \
	-H "Authorization: Bearer <YOUR_BUCKET_WRITE_KEY>"
```
</div>

<div label="GraphQL">
```javascript
addObject(bucket_slug, input)
```
**Header**

```json
{
  "Authorization": "Bearer YOUR_BUCKET_WRITE_KEY"
}
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  "bucket_slug": "YOUR_BUCKET_SLUG"
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20addObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20input%3A%20%7B%20%0A%20%20%20%20%20%20title%3A%20%22Test%20Post%20Title%22%0A%20%20%20%20%20%20type%3A%20%22posts%22%0A%20%20%20%20%20%20content%3A%20%22This%20is%20test%20post%20content%22%2C%0A%20%20%20%20%20%20metafields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20type%3A%20text%2C%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%22test%22%2C%0A%20%20%20%20%20%20%20%20%20%20title%3A%20%22Test%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20%22test%20value%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20title%0A%20%20%7D%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20addObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20input%3A%20%7B%20%0A%20%20%20%20%20%20title%3A%20%22Test%20Post%20Title%22%0A%20%20%20%20%20%20type%3A%20%22posts%22%0A%20%20%20%20%20%20content%3A%20%22This%20is%20test%20post%20content%22%2C%0A%20%20%20%20%20%20metafields%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20type%3A%20text%2C%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%22test%22%2C%0A%20%20%20%20%20%20%20%20%20%20title%3A%20%22Test%22%2C%0A%20%20%20%20%20%20%20%20%20%20value%3A%20%22test%20value%22%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20title%0A%20%20%7D%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>
<div label="CLI">
```bash
cosmic add-object
```
**Example Request**
```bash
cosmic add-object --type planets --title Venus --metafields '[{"title": "Radius","type":"text", "key": "radius", "value": "3,760 miles"},{"title": "Distance from Sun","type":"text", "key": "distance_from_sun", "value": "67.24 million miles"}]'
```
</div>
</Tabs>

**Example Response**

```json
{
  "object": {
    "id": "5ff75368c2dfa81a91695cec",
    "slug": "title-of-the-post",
    "title": "Title of the Post",
    "content": "",
    "metafields": [],
    "bucket": "5f7357124b331d76c08de989",
    "created_at": "2021-01-07T18:31:04.005Z",
    "modified_at": "2021-01-07T18:31:04.005Z",
    "status": "published",
    "published_at": "2021-01-07T18:31:04.005Z",
    "type": "posts"
  }
}
```

## Edit Object

Edits an Object in your Bucket.

**Definition**

```bash
PATCH /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
```

<Callout emoji="âš ">
  **Required**
  <br />
  Your Bucket `write_key` must be passed as `Authorization Bearer` in the header
  of the request. This can be found in
  <i>Your Bucket > Settings > API Access</i> in your [Admin Dashboard](https://app.cosmicjs.com/login).
</Callout>

**Parameters**

| Parameter              |        Type         | Description                                                                         |
| :--------------------- | :-----------------: | :---------------------------------------------------------------------------------- |
| title                  |       String        | Your Object title                                                                   |
| slug                   |       String        | Unique identifier for your Object                                                   |
| content                |       String        | Add Content to your Object                                                          |
| status                 |        Enum         | draft, published, defaults to published                                             |
| metafields             | Array of Metafields | Add Metafields to your Object. See [Metafields Model](/api-reference/metafields).   |
| publish_at             |       Number        | UNIX millisecond timestamp. Publish automatically at a later time.                  |
| options.slug_field     |       Boolean       | Set to false to hide the slug field                                                 |
| options.content_editor |       Boolean       | Set to false to hide the content editor                                             |
| locale                 |       String        | Add localization to the Object                                                      |
| thumbnail              |       String        | Media `name`. Media must be available in Bucket. See [Media](/api-reference/media). |
| trigger_webhook        |       Boolean       | Triggers corresponding Object action Webhook ([See Webhooks](/dashboard/webhooks)). |
| pretty                 |        Enum         | true, Makes the response more reader-friendly                                       |

_**Note:** At least one of the Parameters is required to process the request._

**Methods**

<Tabs>
	<div label="Node.js">
```javascript
bucket.editObject()
```

**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  write_key: 'YOUR_BUCKET_WRITE_KEY'
})
const data = await bucket.editObject({
  id: '5ff75368c2dfa81a91695cec',
  title: 'New Title Edit'
})
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id \
	-d '{"title":"New Title Edit"}' \
	-H 'Content-Type: application/json' \
	-H "Authorization: Bearer <YOUR_BUCKET_WRITE_KEY>" \
	-X PATCH
```
</div>

<div label="GraphQL">
```javascript
editObject(bucket_slug, input)
```
**Header**

```json
{
  "Authorization": "Bearer YOUR_BUCKET_WRITE_KEY"
}
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  "bucket_slug": "YOUR_BUCKET_SLUG"
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20editObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20object_id%3A%20%2260354074b1069b0008404513%22%0A%20%20%20%20input%3A%20%7B%20%0A%20%20%20%20%20%20title%3A%20%22Test%20Edit%20from%20GQL%22%0A%20%20%20%20%20%20content%3A%20%22This%20is%20an%20edit%20test%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20title%0A%20%20%7D%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20editObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20object_id%3A%20%2260354074b1069b0008404513%22%0A%20%20%20%20input%3A%20%7B%20%0A%20%20%20%20%20%20title%3A%20%22Test%20Edit%20from%20GQL%22%0A%20%20%20%20%20%20content%3A%20%22This%20is%20an%20edit%20test%22%0A%20%20%20%20%7D%0A%20%20%29%20%7B%0A%20%20%20%20title%0A%20%20%7D%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>
<div label="CLI">
```bash
cosmic edit-object
```
**Example Request**
```bash
cosmic edit-object --id 5ff75368c2dfa81a91695cec --title 'New Title Edit'
```
</div>
</Tabs>

**Example Response**

```json
{
  "object": {
    "id": "5ff75368c2dfa81a91695cec",
    "slug": "title-of-the-post",
    "title": "New Title Edit",
    "content": "",
    "metafields": [],
    "bucket": "5f7357124b331d76c08de989",
    "created_at": "2021-01-07T18:31:04.005Z",
    "modified_at": "2021-01-07T18:38:12.124Z",
    "status": "published",
    "published_at": "2021-01-07T18:31:04.005Z",
    "type": "posts"
  }
}
```

## Delete Object

Deletes an Object in your Bucket. This cannot be undone.

**Definition**

```bash
DELETE /v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id
```

<Callout emoji="âš ">
  **Required**
  <br />
  Your Bucket `write_key` must be passed as `Authorization Bearer` in the header
  of the request. This can be found in
  <i>Your Bucket > Settings > API Access</i> in your [Admin Dashboard](https://app.cosmicjs.com/login).
</Callout>

**Parameters**

| Parameter       |  Type   | Description                                                                         |
| :-------------- | :-----: | :---------------------------------------------------------------------------------- |
| trigger_webhook | Boolean | Triggers corresponding Object action Webhook ([See Webhooks](/dashboard/webhooks)). |

**Methods**

<Tabs>

<div label="Node.js">
```javascript
bucket.deleteObject()
```

**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  write_key: 'YOUR_BUCKET_WRITE_KEY'
})
const data = await bucket.deleteObject({
  id: '5ff75368c2dfa81a91695cec'
})
```

</div>

<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/objects/:id \
	-H "Authorization: Bearer <YOUR_BUCKET_WRITE_KEY>" \
	-X DELETE
```
</div>

<div label="GraphQL">
```javascript
deleteObject(bucket_slug, input)
```
**Header**

```json
{
  "Authorization": "Bearer YOUR_BUCKET_WRITE_KEY"
}
```

**Variables**
Add this with your variable values to "Query Variables".

```
{
  "bucket_slug": "YOUR_BUCKET_SLUG"
}
```

  <a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20deleteObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20object_id%3A%20%2260354074b1069b0008404513%22%0A%20%20%29%0A%7D">
    Full screen
  </a>
  <iframe
    src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=mutation%20%28%24bucket_slug%3A%20String%21%29%20%7B%0A%20%20deleteObject%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20object_id%3A%20%2260354074b1069b0008404513%22%0A%20%20%29%0A%7D"
    frameBorder="0"
    style={{ width: "100%", height: "470px" }}
  ></iframe>
</div>
<div label="CLI">
```bash
cosmic delete-object
```
**Example Request**
```bash
cosmic delete-object --id 5ff75368c2dfa81a91695cec
```
</div>
</Tabs>

**Example Response**

```json
{
  "message": "Object with id ':id' deleted successfully from bucket."
}
```

## Get Merge Request Objects

Returns Objects included in a Merge Request. See [Objects](#get-objects) for available params.

**Definition**

```bash
GET /v2/buckets/${YOUR_BUCKET_SLUG}/merge-requests/:id/objects
```

**Methods**

<Tabs>
<div label="Node.js">
```javascript
bucket.getMergeRequestObjects()
```
**Example Request**

```javascript
const Cosmic = require('cosmicjs')() // empty init
const bucket = Cosmic.bucket({
  slug: 'YOUR_BUCKET_SLUG',
  read_key: 'YOUR_BUCKET_READ_KEY'
})
const query = {
  slug: 'new-post-in-merge-request',
  locale: 'en'
}
const data = await bucket.getMergeRequestObjects({
  id: 'merge-request-id',
  query,
  props: 'slug,title'
})
```

</div>
<div label="cURL">
```bash
curl https://api.cosmicjs.com/v2/buckets/${YOUR_BUCKET_SLUG}/merge-requests/:id/objects \
	-d read_key=${YOUR_BUCKET_READ_KEY} \
	--data-urlencode query='{"slug": "new-post-in-merge-request","locale":"en"}' \
	-d props="slug,title" \
	-d limit=1 \
	-G
```
</div>

<div label="GraphQL">
```javascript
getMergeRequestObjects(bucket_slug, input)
```

**Variables**

Add this with your variable values to "Query Variables".

```
{
  "bucket_slug": "YOUR_BUCKET_SLUG",
  "read_key": "YOUR_BUCKET_READ_KEY",
  "merge_request_id": "merge-request-id",
  "query": {
    "slug": "new-post-in-merge-request",
    "locale": "en"
  }
}
```

<a href="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24merge_request_id%3A%20ID%21%29%20%7B%0A%20%20getMergeRequestObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20merge_request_id%3A%20%24merge_request_id%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D">Full screen</a>
<iframe src="https://cosmic-graphql-playground.netlify.app/?endpoint=https%3A%2F%2Fgraphql.cosmicjs.com%2Fv3&query=%20query%20%28%24bucket_slug%3A%20String%21%2C%20%24read_key%3A%20String%2C%20%24merge_request_id%3A%20ID%21%29%20%7B%0A%20%20getMergeRequestObjects%28%0A%20%20%20%20bucket_slug%3A%20%24bucket_slug%0A%20%20%20%20read_key%3A%20%24read_key%0A%20%20%20%20merge_request_id%3A%20%24merge_request_id%0A%20%20%29%20%7B%0A%20%20%20%20%20objects%20%7B%0A%20%20%20%20%20%20id%0A%20%20%20%20%20%20title%0A%20%20%20%20%20%20slug%0A%20%20%20%20%7D%0A%20%20%20%20total%0A%20%20%7D%0A%7D" frameBorder="0" style={{ width: '100%', height: '470px'}}></iframe>
</div>

<div label="CLI">
```bash
cosmic get-merge-request-objects
```
**Example Request**
```bash
cosmic get-merge-request-objects --id merge-request-id --query '{"slug":"new-post-in-merge-request","locale":"en"}' ---props "slug,title"
```
</div>
</Tabs>

**Example Response**

```json
{
  "objects": [
    {
      "slug": "new-post-in-merge-request",
      "title": "New Post in Merge Request"
    }
  ]
}
```
